import{_ as s,c as a,o as i,ag as n}from"./chunks/framework.DH_Cy_iG.js";const k=JSON.parse('{"title":"Performance Benchmarks","description":"","frontmatter":{},"headers":[],"relativePath":"guide/performance.md","filePath":"guide/performance.md"}'),t={name:"guide/performance.md"};function r(o,e,l,h,c,p){return i(),a("div",null,[...e[0]||(e[0]=[n(`<h1 id="performance-benchmarks" tabindex="-1">Performance Benchmarks <a class="header-anchor" href="#performance-benchmarks" aria-label="Permalink to &quot;Performance Benchmarks&quot;">​</a></h1><p>TachUI includes a comprehensive benchmark suite aligned with industry standards, particularly the <a href="https://github.com/krausest/js-framework-benchmark" target="_blank" rel="noreferrer">js-framework-benchmark</a> specification.</p><h2 id="running-benchmarks" tabindex="-1">Running Benchmarks <a class="header-anchor" href="#running-benchmarks" aria-label="Permalink to &quot;Running Benchmarks&quot;">​</a></h2><h3 id="mock-dom-benchmarks-ci-testing" tabindex="-1">Mock DOM Benchmarks (CI/Testing) <a class="header-anchor" href="#mock-dom-benchmarks-ci-testing" aria-label="Permalink to &quot;Mock DOM Benchmarks (CI/Testing)&quot;">​</a></h3><h4 id="quick-benchmark" tabindex="-1">Quick Benchmark <a class="header-anchor" href="#quick-benchmark" aria-label="Permalink to &quot;Quick Benchmark&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark:quick</span></span></code></pre></div><p>Runs essential performance tests in JSDOM environment (~25 seconds).</p><h4 id="complete-benchmark-suite" tabindex="-1">Complete Benchmark Suite <a class="header-anchor" href="#complete-benchmark-suite" aria-label="Permalink to &quot;Complete Benchmark Suite&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark:compare</span></span></code></pre></div><p>Runs all benchmarks and generates detailed comparison report (~25 seconds).</p><h4 id="individual-benchmark" tabindex="-1">Individual Benchmark <a class="header-anchor" href="#individual-benchmark" aria-label="Permalink to &quot;Individual Benchmark&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark</span></span></code></pre></div><p>Runs full benchmark suite without framework comparison (~25 seconds).</p><h3 id="browser-benchmarks-real-performance-⚡" tabindex="-1">Browser Benchmarks (Real Performance) ⚡ <a class="header-anchor" href="#browser-benchmarks-real-performance-⚡" aria-label="Permalink to &quot;Browser Benchmarks (Real Performance) ⚡&quot;">​</a></h3><h4 id="quick-browser-benchmark-recommended" tabindex="-1">Quick Browser Benchmark (Recommended) <a class="header-anchor" href="#quick-browser-benchmark-recommended" aria-label="Permalink to &quot;Quick Browser Benchmark (Recommended)&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark:browser:quick</span></span></code></pre></div><p>Real-world performance in Chromium browser (~2 seconds). <strong>Results</strong>: Create 1K rows in ~9ms, Update every 10th row in ~0.4ms!</p><h4 id="complete-browser-benchmark" tabindex="-1">Complete Browser Benchmark <a class="header-anchor" href="#complete-browser-benchmark" aria-label="Permalink to &quot;Complete Browser Benchmark&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark:browser</span></span></code></pre></div><p>Full benchmark suite in real browser environment (~10 seconds).</p><h4 id="running-from-root-directory" tabindex="-1">Running from Root Directory <a class="header-anchor" href="#running-from-root-directory" aria-label="Permalink to &quot;Running from Root Directory&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># From project root (works anywhere)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark:browser:quick</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark:browser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark:quick</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark:compare</span></span></code></pre></div><h2 id="performance-comparison" tabindex="-1">Performance Comparison <a class="header-anchor" href="#performance-comparison" aria-label="Permalink to &quot;Performance Comparison&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Environment</th><th>Create 1K Rows</th><th>Update 10th Row</th><th>Component Creation</th></tr></thead><tbody><tr><td><strong>Mock DOM (JSDOM)</strong></td><td>~9,000ms</td><td>~400ms</td><td>~140ms</td></tr><tr><td><strong>Real Browser</strong></td><td><strong>~9ms</strong></td><td><strong>~0.4ms</strong></td><td><strong>~1.2ms</strong></td></tr><tr><td><strong>Improvement</strong></td><td><strong>~960x faster</strong></td><td><strong>~1,000x faster</strong></td><td><strong>~117x faster</strong></td></tr></tbody></table><h2 id="important-notes-⚠️" tabindex="-1">Important Notes ⚠️ <a class="header-anchor" href="#important-notes-⚠️" aria-label="Permalink to &quot;Important Notes ⚠️&quot;">​</a></h2><ul><li><strong>Mock Environment</strong>: JSDOM benchmarks (~10,000ms) for CI/testing compatibility only</li><li><strong>Browser Environment</strong>: Playwright benchmarks (~9ms) show real-world performance</li><li><strong>Dramatic Difference</strong>: Real browser is <strong>1,000x faster</strong> than mock DOM</li><li><strong>Development Recommendation</strong>: <strong>Always use browser benchmarks</strong> for performance evaluation</li><li><strong>CI/Documentation</strong>: JSDOM results should be ignored for performance claims</li></ul><h2 id="benchmark-categories" tabindex="-1">Benchmark Categories <a class="header-anchor" href="#benchmark-categories" aria-label="Permalink to &quot;Benchmark Categories&quot;">​</a></h2><h3 id="standard-benchmarks-js-framework-benchmark-aligned" tabindex="-1">Standard Benchmarks (js-framework-benchmark aligned) <a class="header-anchor" href="#standard-benchmarks-js-framework-benchmark-aligned" aria-label="Permalink to &quot;Standard Benchmarks (js-framework-benchmark aligned)&quot;">​</a></h3><ol><li><strong>Create 1,000 rows</strong> - Component creation performance</li><li><strong>Replace all 1,000 rows</strong> - Full re-render performance</li><li><strong>Partial update</strong> - Update every 10th row (most important for UX)</li><li><strong>Select row</strong> - Single selection performance</li><li><strong>Swap rows</strong> - Row reordering performance</li><li><strong>Remove rows</strong> - Deletion performance</li><li><strong>Clear rows</strong> - Full cleanup performance</li></ol><h3 id="tachui-specific-benchmarks" tabindex="-1">TachUI-Specific Benchmarks <a class="header-anchor" href="#tachui-specific-benchmarks" aria-label="Permalink to &quot;TachUI-Specific Benchmarks&quot;">​</a></h3><ol start="8"><li><strong>Component creation</strong> - Raw component instantiation speed</li><li><strong>Reactive updates</strong> - Signal/effect system performance</li></ol><h2 id="measured-metrics" tabindex="-1">Measured Metrics <a class="header-anchor" href="#measured-metrics" aria-label="Permalink to &quot;Measured Metrics&quot;">​</a></h2><ul><li><strong>Duration</strong> - Time taken to complete operation (ms)</li><li><strong>Operations per second</strong> - Throughput measurement</li><li><strong>Memory usage</strong> - Heap memory consumption (MB)</li><li><strong>Bundle size</strong> - Framework overhead (KB)</li></ul><h2 id="framework-comparisons" tabindex="-1">Framework Comparisons <a class="header-anchor" href="#framework-comparisons" aria-label="Permalink to &quot;Framework Comparisons&quot;">​</a></h2><p>The benchmark suite compares TachUI against:</p><ul><li><strong>React 18.2.0</strong> - Most popular framework</li><li><strong>Vue 3.3.0</strong> - Progressive framework</li><li><strong>SolidJS 1.7.0</strong> - Fine-grained reactivity (closest architecture)</li><li><strong>Svelte 4.0.0</strong> - Compile-time optimized</li><li><strong>Angular 16.0.0</strong> - Enterprise framework</li><li><strong>Preact 10.15.0</strong> - Lightweight React alternative</li></ul><h2 id="performance-targets" tabindex="-1">Performance Targets <a class="header-anchor" href="#performance-targets" aria-label="Permalink to &quot;Performance Targets&quot;">​</a></h2><p>TachUI aims for:</p><ul><li><strong>Sub-30ms</strong> component creation (1K components)</li><li><strong>Sub-15ms</strong> reactive updates (partial updates)</li><li><strong>&lt;8MB</strong> memory usage for standard operations</li><li><strong>&lt;20KB</strong> bundle size for core framework</li></ul><h2 id="architecture-benefits" tabindex="-1">Architecture Benefits <a class="header-anchor" href="#architecture-benefits" aria-label="Permalink to &quot;Architecture Benefits&quot;">​</a></h2><p>TachUI&#39;s performance characteristics come from:</p><ol><li><strong>Direct DOM Manipulation</strong> - No virtual DOM overhead</li><li><strong>Fine-grained Reactivity</strong> - Surgical updates like SolidJS</li><li><strong>Compile-time Optimization</strong> - Pre-computed operations</li><li><strong>Efficient Memory Management</strong> - WeakMap-based cleanup</li><li><strong>TypeScript-first</strong> - Zero runtime type checking</li></ol><h2 id="understanding-results" tabindex="-1">Understanding Results <a class="header-anchor" href="#understanding-results" aria-label="Permalink to &quot;Understanding Results&quot;">​</a></h2><h3 id="good-performance-indicators" tabindex="-1">Good Performance Indicators <a class="header-anchor" href="#good-performance-indicators" aria-label="Permalink to &quot;Good Performance Indicators&quot;">​</a></h3><ul><li>Create operations &lt; 35ms</li><li>Update operations &lt; 15ms</li><li>Memory usage &lt; 8MB</li><li>Bundle size &lt; 20KB</li></ul><h3 id="performance-score" tabindex="-1">Performance Score <a class="header-anchor" href="#performance-score" aria-label="Permalink to &quot;Performance Score&quot;">​</a></h3><p>The benchmark suite calculates a weighted performance score (0-100):</p><ul><li>Partial update: 25% weight (most important for UX)</li><li>Create performance: 20% weight</li><li>Replace all: 15% weight</li><li>Other operations: 10% each</li><li>Memory efficiency: 5% weight</li></ul><h2 id="development-usage" tabindex="-1">Development Usage <a class="header-anchor" href="#development-usage" aria-label="Permalink to &quot;Development Usage&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { runQuickBenchmark, runCompleteBenchmarkSuite } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@tachui/core/benchmarks&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Quick performance check</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> results</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> runQuickBenchmark</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Performance score: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">results</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performanceScore</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/100\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Full comparison</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">summary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">comparisonReport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> runCompleteBenchmarkSuite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(comparisonReport)</span></span></code></pre></div><h2 id="continuous-monitoring" tabindex="-1">Continuous Monitoring <a class="header-anchor" href="#continuous-monitoring" aria-label="Permalink to &quot;Continuous Monitoring&quot;">​</a></h2><p>Benchmarks can be integrated into CI/CD pipelines to track performance regressions:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GitHub Actions example</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Run Performance Benchmarks</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run benchmark:compare</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Check Performance Regression</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    SCORE=$(npm run benchmark:quick | grep &quot;Performance score&quot; | grep -o &#39;[0-9]*&#39;)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    if [ $SCORE -lt 75 ]; then</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      echo &quot;Performance regression detected: $SCORE/100&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      exit 1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    fi</span></span></code></pre></div><h2 id="contributing-benchmarks" tabindex="-1">Contributing Benchmarks <a class="header-anchor" href="#contributing-benchmarks" aria-label="Permalink to &quot;Contributing Benchmarks&quot;">​</a></h2><p>When adding new benchmarks:</p><ol><li>Follow the existing benchmark patterns</li><li>Use the <code>BenchmarkRunner</code> class for consistent measurement</li><li>Include warmup runs to stabilize results</li><li>Add corresponding tests in <code>tests/benchmarks.test.ts</code></li><li>Update this documentation</li></ol><h2 id="interpreting-results" tabindex="-1">Interpreting Results <a class="header-anchor" href="#interpreting-results" aria-label="Permalink to &quot;Interpreting Results&quot;">​</a></h2><ul><li><strong>Lower is better</strong> for duration/time measurements</li><li><strong>Higher is better</strong> for operations per second</li><li><strong>Lower is better</strong> for memory usage and bundle size</li><li><strong>Scores 80+</strong> indicate excellent performance</li><li><strong>Scores 60-79</strong> indicate good performance</li><li><strong>Scores &lt;60</strong> may indicate optimization opportunities</li></ul><h2 id="phase-5-results-snapshot" tabindex="-1">Phase 5 Results Snapshot <a class="header-anchor" href="#phase-5-results-snapshot" aria-label="Permalink to &quot;Phase 5 Results Snapshot&quot;">​</a></h2><p>As part of the Phase 5 security &amp; performance validation we recorded the following metrics (see <code>benchmarks/performance-results.md</code> for the full table):</p><table tabindex="0"><thead><tr><th>Scenario</th><th>Observed</th></tr></thead><tbody><tr><td>Text component render (100 nodes)</td><td>3.23 ms total, peak heap 58 MB</td></tr><tr><td>List render (1 000 items)</td><td>140 ms total, 0.14 ms/item</td></tr><tr><td>Reactive state updates (500 updates)</td><td>205 ms total, 0.41 ms/update</td></tr><tr><td>Component lifecycle memory stress</td><td>236 ms runtime, ~0.55 MB leak</td></tr><tr><td>DOM manipulation batch (550 ops)</td><td>19 ms total, 0.035 ms/op</td></tr><tr><td>Complete workflow simulation</td><td>128 ms total, 0.25 ms/op</td></tr><tr><td>Proxy vs builder render overhead</td><td>~5.4 %</td></tr></tbody></table><p>Security audits (summarised in <code>benchmarks/security-audit.md</code>) confirmed:</p><ul><li>Forbidden modifier names (<code>__proto__</code>, <code>constructor</code>, etc.) are rejected by the registry.</li><li>Unverified plugins trigger the documented console warning.</li><li>HTML sanitisation strips script blocks, inline handlers, and <code>javascript:</code> URLs before modifiers run.</li><li>No production use of <code>eval</code>/<code>Function</code> was found (limited to test harnesses).</li><li><code>pnpm audit</code> could not run inside the sandbox (IPC blocked); dependency scanning should continue in CI outside the restricted environment.</li></ul>`,63)])])}const m=s(t,[["render",r]]);export{k as __pageData,m as default};
