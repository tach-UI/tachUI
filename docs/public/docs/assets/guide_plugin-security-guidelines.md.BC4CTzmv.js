import{_ as i,c as t,o as a,ag as o}from"./chunks/framework.DH_Cy_iG.js";const p=JSON.parse('{"title":"Security Guidelines for Plugin Authors","description":"","frontmatter":{},"headers":[],"relativePath":"guide/plugin-security-guidelines.md","filePath":"guide/plugin-security-guidelines.md"}'),r={name:"guide/plugin-security-guidelines.md"};function s(n,e,l,d,c,u){return a(),t("div",null,[...e[0]||(e[0]=[o('<h1 id="security-guidelines-for-plugin-authors" tabindex="-1">Security Guidelines for Plugin Authors <a class="header-anchor" href="#security-guidelines-for-plugin-authors" aria-label="Permalink to &quot;Security Guidelines for Plugin Authors&quot;">​</a></h1><p>TachUI’s plugin architecture lets teams publish modifiers, components, and tooling safely—as long as each package follows a few security best practices. This guide focuses on author responsibilities when targeting the shared <code>ModifierRegistry</code>.</p><h2 id="register-metadata-for-every-modifier" tabindex="-1">Register Metadata for Every Modifier <a class="header-anchor" href="#register-metadata-for-every-modifier" aria-label="Permalink to &quot;Register Metadata for Every Modifier&quot;">​</a></h2><ul><li>Use <code>registerModifierWithMetadata</code> (or the helpers in your package’s <code>register*Modifiers()</code> function) to supply: <ul><li><code>name</code> — unique, kebab-case identifier.</li><li><code>category</code> — aligns with the catalog shown in <code>@tachui/devtools</code>.</li><li><code>description</code> and <code>usage</code> snippets for documentation.</li><li><code>priority</code> — choose a value that matches your package tier (Core: 100‑199, Official plugins: 50‑99, Community: 10‑49).</li></ul></li><li>Metadata enables type generation and tooling to validate your modifier; missing metadata triggers build-time warnings and fails the <code>generate-modifier-types --check</code> task.</li></ul><h2 id="respect-reserved-names-priority-ranges" tabindex="-1">Respect Reserved Names &amp; Priority Ranges <a class="header-anchor" href="#respect-reserved-names-priority-ranges" aria-label="Permalink to &quot;Respect Reserved Names &amp; Priority Ranges&quot;">​</a></h2><ul><li>The registry prevents collisions using a forbidden-name list and priority checks. Avoid generic names (<code>padding</code>, <code>frame</code>) unless you intentionally override core behaviour.</li><li>If you fork an existing modifier, choose a new name and document how it differs. Consumers can then opt into your modifier explicitly.</li></ul><h2 id="sanitise-user-input" tabindex="-1">Sanitise User Input <a class="header-anchor" href="#sanitise-user-input" aria-label="Permalink to &quot;Sanitise User Input&quot;">​</a></h2><ul><li>Call <code>stateModifier</code> or <code>createCustomModifier</code> with explicit sanitisation for any values that might be user-supplied.</li><li>Reuse helpers from <code>@tachui/core/modifiers/basic-sanitizer</code> or the security utilities in <code>@tachui/core/security</code> when dealing with HTML, URLs, or untrusted CSS.</li><li>Keep <code>STRICT_INPUT_SANITIZATION</code> enabled during development to surface warnings early.</li></ul><h2 id="run-in-hardened-environments" tabindex="-1">Run in Hardened Environments <a class="header-anchor" href="#run-in-hardened-environments" aria-label="Permalink to &quot;Run in Hardened Environments&quot;">​</a></h2><ul><li>Encourage consumers to enable <code>enableBasicSecurity()</code> (or stricter presets) so plugins run inside the expected sandbox.</li><li>Test your plugin with <code>WEBWORKER_SANDBOX</code> and <code>PLUGIN_CODE_SIGNING</code> flags toggled on—they change the execution environment and can reveal implicit assumptions.</li><li>If your plugin relies on browser APIs, guard them behind capability checks so they degrade gracefully when the sandbox is active.</li></ul><h2 id="ship-source-maps-documentation" tabindex="-1">Ship Source Maps &amp; Documentation <a class="header-anchor" href="#ship-source-maps-documentation" aria-label="Permalink to &quot;Ship Source Maps &amp; Documentation&quot;">​</a></h2><ul><li>Provide source maps (or at least meaningful stack traces) so consumers can debug issues inside the WebWorker sandbox.</li><li>Publish a README describing required feature flags, environment variables, and how to revoke permissions if something goes wrong.</li><li>Cross-link to your modifier metadata so DevTools can surface documentation inline.</li></ul><h2 id="testing-checklist-before-release" tabindex="-1">Testing Checklist Before Release <a class="header-anchor" href="#testing-checklist-before-release" aria-label="Permalink to &quot;Testing Checklist Before Release&quot;">​</a></h2><ul><li><code>pnpm --filter &lt;your plugin&gt; test</code> and <code>pnpm --filter &lt;your plugin&gt; type-check</code>.</li><li><code>pnpm --filter @tachui/core generate-modifier-types:monorepo -- --packages core,&lt;your plugin&gt;</code> to ensure metadata hydrates correctly.</li><li>Run the CLI migration command (<code>tacho migrate remove-modifier-trigger --check</code>) against your sample apps to confirm they are ready for direct modifier chaining.</li><li>Enable <code>SECURITY_DEV_MODE</code> and review the logs—the registry warns when metadata is missing or suspicious.</li></ul><p>Following these guidelines keeps the ecosystem secure and makes it easier for teams to adopt your plugin in environments with strict security policies.</p>',15)])])}const g=i(r,[["render",s]]);export{p as __pageData,g as default};
